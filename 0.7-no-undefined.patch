--- origsrc/gjs-0.7/Makefile.am	2010-04-17 19:55:15.000000000 -0500
+++ src/gjs-0.7/Makefile.am	2010-06-07 20:56:10.145714100 -0500
@@ -60,6 +60,7 @@ libgjs_la_CFLAGS = 		\
 	$(AM_CFLAGS)
 libgjs_la_LDFLAGS = 		\
 	-export-symbols-regex "^[^_]" -version-info 0:0:0	\
+	-no-undefined \
 	-R $(FIREFOX_JS_LIBDIR) -rdynamic
 libgjs_la_LIBADD = 		\
 	$(GJS_LIBS)
--- origsrc/gjs-0.7/Makefile-gi.am	2010-04-17 19:55:15.000000000 -0500
+++ src/gjs-0.7/Makefile-gi.am	2010-06-07 20:56:28.282751500 -0500
@@ -9,7 +9,7 @@ libgjs_gi_la_LIBADD =			\
         libgjs.la			\
         $(GJS_GI_LIBS)
 libgjs_gi_la_LDFLAGS = \
-	-export-symbols-regex "^[^_].*" -version-info 0:0:0 -rdynamic
+	-export-symbols-regex "^[^_].*" -version-info 0:0:0 -rdynamic -no-undefined
 
 nobase_gjsgiinclude_HEADERS =	\
 	gi/arg.h	\
--- origsrc/gjs-0.7/Makefile-gjs-dbus.am	2010-04-17 19:55:15.000000000 -0500
+++ src/gjs-0.7/Makefile-gjs-dbus.am	2010-06-07 20:56:57.907445900 -0500
@@ -18,6 +18,8 @@ libgjs_dbus_la_CPPFLAGS =		\
 libgjs_dbus_la_CFLAGS = 		\
 	$(AM_CFLAGS)		\
 	$(GJS_DBUS_CFLAGS)
+libgjs_dbus_la_LDFLAGS =		\
+	-no-undefined
 libgjs_dbus_la_LIBADD = 		\
 	libgjs.la					\
 	$(GJS_DBUS_LIBS)
--- origsrc/gjs-0.7/Makefile-modules.am	2010-05-07 11:11:37.000000000 -0500
+++ src/gjs-0.7/Makefile-modules.am	2010-06-07 20:57:17.084542800 -0500
@@ -20,7 +20,7 @@ JS_NATIVE_MODULE_LIBADD =	\
         libgjs.la		\
         $(GJS_LIBS)
 JS_NATIVE_MODULE_LDFLAGS =	\
-        -module -avoid-version -Wl,-z,defs -rdynamic
+        -module -avoid-version -no-undefined -rdynamic
 
 gi_la_CFLAGS = 					\
 	$(JS_NATIVE_MODULE_CFLAGS) 		\
